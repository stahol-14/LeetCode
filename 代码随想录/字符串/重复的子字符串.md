# [é‡å¤çš„å­å­—ç¬¦ä¸²](é‡å¤çš„å­å­—ç¬¦ä¸²"[é¢˜ç›®åœ°å€](https://leetcode.cn/problems/repeated-substring-pattern/description/)")

## é¢˜ç›®æè¿°
ç»™å®šä¸€ä¸ªéç©ºå­—ç¬¦ä¸² `s`ï¼Œæ£€æŸ¥æ˜¯å¦å¯ä»¥é€šè¿‡**é‡å¤æŸä¸ªå­ä¸²**æ„æˆè¯¥å­—ç¬¦ä¸²ã€‚

### æ€è·¯1ï¼šæ‹¼æ¥å­—ç¬¦ä¸²ğŸŒŸ
1. å°† s å¤åˆ¶æˆä¸¤ä»½ï¼Œå³ s + sï¼›
   - å»æ‰é¦–å°¾å­—ç¬¦ï¼š(s + s).substring(1, 2 * n - 1)
2. å¦‚æœæ­¤ç»“æœä¸­åŒ…å«åŸä¸² sï¼Œè¯´æ˜ s æ˜¯é‡å¤æ„æˆçš„ã€‚


```java
class Solution {
    public boolean repeatedSubstringPattern(String s) {
        String str = s + s;
        return str.substring(1, str.length() - 1).contains(s);
    }
}
```

#### å¤æ‚åº¦åˆ†æ
æ—¶é—´å¤æ‚åº¦ï¼šO(n ^ 2)
ç©ºé—´å¤æ‚åº¦ï¼šO(1)

### æ€è·¯2ï¼šKMPğŸŒŸã€Œæœ€é•¿ç›¸ç­‰å‰åç¼€ã€
- æ„å»ºå­—ç¬¦ä¸²çš„ KMP å‰ç¼€æ•°ç»„ `next[]`ï¼›
- ä»¤ `len = next[n - 1]`ï¼Œå³å­—ç¬¦ä¸²ä¸­**æœ€é•¿ç›¸ç­‰å‰åç¼€**çš„é•¿åº¦ï¼›
- å¦‚æœï¼š
  - `len > 0` ä¸”
  - `n % (n - len) == 0`ï¼Œè¯´æ˜æ•´ä¸ªå­—ç¬¦ä¸²æ˜¯æŸä¸ªå­ä¸²é‡å¤æ„æˆã€‚


```java
class Solution {
    public boolean repeatedSubstringPattern(String s) {
        int n = s.length();
        int[] next = buildNext(s); // æ„å»º KMP å‰ç¼€æ•°ç»„

        int len = next[n - 1]; // æœ€é•¿ç›¸ç­‰å‰åç¼€é•¿åº¦

        // åˆ¤æ–­æ˜¯å¦æ»¡è¶³é‡å¤æ„æˆçš„æ¡ä»¶
        return len > 0 && n % (n - len) == 0;
    }

    // æ„å»º KMP å‰ç¼€è¡¨ï¼ˆnext æ•°ç»„ï¼‰
    private int[] buildNext(String s) {
        int n = s.length();
        int[] next = new int[n];
        int j = 0;

        for (int i = 1; i < n; i++) {
            // å›é€€æŒ‡é’ˆ jï¼Œç›´åˆ°æ‰¾åˆ°å‰åç¼€åŒ¹é…ï¼Œæˆ– j=0
            while (j > 0 && s.charAt(i) != s.charAt(j)) {
                j = next[j - 1];
            }

            // å¦‚æœå‰åå­—ç¬¦åŒ¹é…ï¼Œæ‰©å±•å‰åç¼€é•¿åº¦
            if (s.charAt(i) == s.charAt(j)) {
                j++;
            }

            next[i] = j;
        }

        return next;
    }
}
```

#### å¤æ‚åº¦åˆ†æ
æ—¶é—´å¤æ‚åº¦ï¼šO(n)
ç©ºé—´å¤æ‚åº¦ï¼šO(n)

### æ€»ç»“
