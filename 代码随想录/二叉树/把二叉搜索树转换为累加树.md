# [æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘](æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘"[é¢˜ç›®åœ°å€](https://leetcode.cn/problems/convert-bst-to-greater-tree/description/)")

## é¢˜ç›®æè¿°
ç»™å‡ºäºŒå‰æœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œè¯¥æ ‘çš„èŠ‚ç‚¹å€¼å„ä¸ç›¸åŒï¼Œè¯·ä½ å°†å…¶è½¬æ¢ä¸ºç´¯åŠ æ ‘ï¼ˆGreater Sum Treeï¼‰ï¼Œä½¿æ¯ä¸ªèŠ‚ç‚¹ node çš„æ–°å€¼ç­‰äºåŸæ ‘ä¸­å¤§äºæˆ–ç­‰äº node.val çš„å€¼ä¹‹å’Œã€‚

æé†’ä¸€ä¸‹ï¼ŒäºŒå‰æœç´¢æ ‘æ»¡è¶³ä¸‹åˆ—çº¦æŸæ¡ä»¶ï¼š
- èŠ‚ç‚¹çš„å·¦å­æ ‘ä»…åŒ…å«é”® å°äº èŠ‚ç‚¹é”®çš„èŠ‚ç‚¹ã€‚
- èŠ‚ç‚¹çš„å³å­æ ‘ä»…åŒ…å«é”® å¤§äº èŠ‚ç‚¹é”®çš„èŠ‚ç‚¹ã€‚
- å·¦å³å­æ ‘ä¹Ÿå¿…é¡»æ˜¯äºŒå‰æœç´¢æ ‘ã€‚

### æ€è·¯ï¼šåä¸­åºéå†ğŸŒŸ
- åœ¨äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰ä¸­ï¼Œä¸­åºéå†å¾—åˆ°çš„æ˜¯å‡åºåºåˆ—ï¼š
  - åä¸­åºéå†ï¼ˆå³ ä¸­ å·¦ï¼‰å°±æ˜¯ä»å¤§åˆ°å°è®¿é—®èŠ‚ç‚¹ã€‚
  - ç´¯åŠ å’Œ sumï¼Œæ¯è®¿é—®ä¸€ä¸ªèŠ‚ç‚¹å°±æ›´æ–°å®ƒçš„å€¼ä¸ºå½“å‰ sumï¼Œå†æ›´æ–° sum += node.valã€‚

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    int sum = 0;
    public TreeNode convertBST(TreeNode root) {
        // ç›¸å½“äº è‡ªå·±å½“å‰å€¼ + å³å­æ ‘å€¼çš„å’Œ
        reverseInOrder(root);
        return root;
    }

    // åä¸­åºéå†ï¼ˆå³ ä¸­ å·¦ï¼‰
    private void reverseInOrder(TreeNode node){
        if(node == null) return ;

        reverseInOrder(node.right); // å…ˆè®¿é—®å³å­æ ‘ï¼ˆæ›´å¤§ï¼‰ æ±‚å’Œ

        // å¤„ç†å½“å‰èŠ‚ç‚¹ ç´¯åŠ å¹¶æ›´æ–°å½“å‰èŠ‚ç‚¹å€¼
        sum += node.val;
        node.val = sum;

        reverseInOrder(node.left); // å†å·¦å­æ ‘
    }
}
```

#### å¤æ‚åº¦åˆ†æ
æ—¶é—´å¤æ‚åº¦ï¼šO(n)
ç©ºé—´å¤æ‚åº¦ï¼šO(h)

### æ€»ç»“
