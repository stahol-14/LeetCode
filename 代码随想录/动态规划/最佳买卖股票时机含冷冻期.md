# [最佳买卖股票时机含冷冻期](最佳买卖股票时机含冷冻期"[题目地址](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-with-cooldown/description/)")

## 题目描述
给定一个整数数组prices，其中第  prices[i] 表示第 i 天的股票价格 。​

设计一个算法计算出最大利润。在满足以下约束条件下，你可以尽可能地完成更多的交易（多次买卖一支股票）:

卖出股票后，你无法在第二天买入股票 (即冷冻期为 1 天)。
注意：你不能同时参与多笔交易（你必须在再次购买前出售掉之前的股票）。

### 思路：动态规划🌟

- 卖出后第二天不能买（冷冻 1 天），且同一时间只能持有 0/1 股

对第 i 天，定义三种状态的最大收益：
  - hold：今天持有股票（可能是之前就持有，或今天买入）
  - sold：今天刚卖出股票（卖出后，下一天就会进入冷冻期）
  - rest：今天不持有且不在冷冻中（休息态）

```java
class Solution {
    public int maxProfit(int[] prices) {
        int n = prices.length;
        if(n <= 1) return 0;

        int hold = -prices[0]; // 持有
        int sold = 0; // 卖出
        int rest = 0; // 冷冻期

        for(int i = 1; i < n; i++){

            // 记录前一天的 各状态的信息
            int prevHold = hold; 
            int prevSold = sold;
            int prevRest = rest;

            // 更新
            hold = Math.max(prevHold, prevRest - prices[i]); // 保持持有 或 重新买入
            sold = prevHold + prices[i]; // 今天卖出
            rest = Math.max(prevRest, prevSold); // 继续冷冻 或 上一次卖出进入冷冻期
        }

        return Math.max(sold, rest);
    }
}
```

#### 复杂度分析
时间复杂度：O(n)

空间复杂度：O(1)

### 总结
