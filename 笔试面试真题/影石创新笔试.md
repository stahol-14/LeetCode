# [å²›å±¿æ•°é‡](å²›å±¿æ•°é‡"[é¢˜ç›®åœ°å€](https://leetcode.cn/problems/number-of-islands/description/?envType=study-plan-v2&envId=top-100-liked)")

## é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªç”± '1'ï¼ˆé™†åœ°ï¼‰å’Œ '0'ï¼ˆæ°´ï¼‰ç»„æˆçš„çš„äºŒç»´ç½‘æ ¼ï¼Œè¯·ä½ è®¡ç®—ç½‘æ ¼ä¸­å²›å±¿çš„æ•°é‡ã€‚

å²›å±¿æ€»æ˜¯è¢«æ°´åŒ…å›´ï¼Œå¹¶ä¸”æ¯åº§å²›å±¿åªèƒ½ç”±æ°´å¹³æ–¹å‘å’Œ/æˆ–ç«–ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥å½¢æˆã€‚

æ­¤å¤–ï¼Œä½ å¯ä»¥å‡è®¾è¯¥ç½‘æ ¼çš„å››æ¡è¾¹å‡è¢«æ°´åŒ…å›´ã€‚


### æ€è·¯ï¼šDFSæ·±åº¦ä¼˜å…ˆéå†ğŸŒŸ

- å½“æ‰¾åˆ°ä¸€ä¸ªå²›å±¿æ—¶ï¼Œæœç´¢å…¶å‘¨å›´ï¼ˆä¸Šä¸‹å·¦å³ï¼‰ï¼Œä¸”éœ€è¦å°†å…¶è½¬ä¸º'0'å³æµ·æ°´ï¼Œè¡¨ç¤ºå·²è®¿é—®ã€‚
  - é‡åˆ° '0'ï¼ˆæ°´ï¼‰è·³è¿‡ï¼›
  - é‡åˆ° '1'ï¼ˆé™†åœ°ï¼‰ï¼šè¯´æ˜å‘ç°äº†ä¸€ä¸ªæ–°å²›å±¿ï¼Œcount++ï¼Œç„¶åä»è¿™ä¸ªç‚¹å‡ºå‘åš DFSï¼ŒæŠŠè¿™ä¸ªå²›ä¸Šçš„æ‰€æœ‰ '1' éƒ½å˜æˆ '0'ï¼Œé¿å…åé¢é‡å¤è®¡æ•°ã€‚


```java
class Solution {
    public int numIslands(char[][] grid) {
        int m = grid.length, n = grid[0].length;
        int count = 0;

        for(int i = 0; i < m; i++){
            for(int j = 0; j < n; j++){
                if(grid[i][j] == '1'){ // å‘ç°ä¸€å—å°šæœªè®¿é—®çš„é™†åœ°
                    count++;
                    dfs(grid, i, j);
                }
            }
        }

        return count;
    }

    private void dfs(char[][] grid, int i, int j){
        // å°† (i,j) æ‰€åœ¨è¿é€šå—çš„æ‰€æœ‰ '1' ç½®ä¸º '0'
        int m = grid.length, n = grid[0].length;
        // è¶Šç•Œæˆ–ä¸æ˜¯é™†åœ°åˆ™è¿”å›
        if(i < 0 || i >= m || j < 0 || j >= n || grid[i][j] != '1') return ;

        // å°†å½“å‰é™†åœ°ç½®ä¸ºæ°´ï¼Œè¡¨ç¤ºâ€œå·²è®¿é—®â€
        grid[i][j] = '0';

        // ç»§ç»­å‘å››ä¸ªæ–¹å‘æ‰©å±•ï¼ˆä»…å››å‘ï¼Œä¸å«å¯¹è§’ï¼‰
        dfs(grid, i + 1, j);
        dfs(grid, i - 1, j);
        dfs(grid, i, j + 1);
        dfs(grid, i, j - 1);
    }
}
```

#### å¤æ‚åº¦åˆ†æ

æ—¶é—´å¤æ‚åº¦ï¼šO(m*n)

ç©ºé—´å¤æ‚åº¦ï¼šO(m*n)

----

# [ç¯å½¢å­æ•°ç»„çš„æœ€å¤§å’Œ](ç¯å½¢å­æ•°ç»„çš„æœ€å¤§å’Œ"[é¢˜ç›®åœ°å€](https://leetcode.cn/problems/maximum-sum-circular-subarray/description/)")

## é¢˜ç›®æè¿°
ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„ç¯å½¢æ•´æ•°æ•°ç»„ nums ï¼Œè¿”å› nums çš„éç©º å­æ•°ç»„ çš„æœ€å¤§å¯èƒ½å’Œ ã€‚

ç¯å½¢æ•°ç»„ æ„å‘³ç€æ•°ç»„çš„æœ«ç«¯å°†ä¼šä¸å¼€å¤´ç›¸è¿å‘ˆç¯çŠ¶ã€‚å½¢å¼ä¸Šï¼Œ nums[i] çš„ä¸‹ä¸€ä¸ªå…ƒç´ æ˜¯ nums[(i + 1) % n] ï¼Œ nums[i] çš„å‰ä¸€ä¸ªå…ƒç´ æ˜¯ nums[(i - 1 + n) % n] ã€‚

å­æ•°ç»„ æœ€å¤šåªèƒ½åŒ…å«å›ºå®šç¼“å†²åŒº nums ä¸­çš„æ¯ä¸ªå…ƒç´ ä¸€æ¬¡ã€‚å½¢å¼ä¸Šï¼Œå¯¹äºå­æ•°ç»„ nums[i], nums[i + 1], ..., nums[j] ï¼Œä¸å­˜åœ¨ i <= k1, k2 <= j å…¶ä¸­ k1 % n == k2 % n ã€‚


### æ€è·¯ï¼šåˆ†æƒ…å†µè®¨è®º

1. å­æ•°ç»„çš„æœ€å¤§å’Œâ€”â€”å½“å‰æœ€å¤§å’Œ
2. å¾ªç¯æ•°ç»„çš„æœ€å¤§å’Œâ€”â€”æ•°ç»„å’Œ-æœ€å°å’Œ
3. å…¨ä¸ºè´Ÿæ•°ï¼Œæœ€å¤§å’Œ

```java
class Solution {
    // 1. åŸæ•°ç»„ä¸­ç›´æ¥æ‰¾åˆ°æœ€å¤§å’Œ
    // 2. ç¯å½¢æ•°ç»„ä¸­æ‰¾åˆ°æœ€å¤§å’Œ â€”â€” ç­‰ä»·äº æ€»å’Œ - æœ€å°å’Œ
    public int maxSubarraySumCircular(int[] nums) {

        int sum = 0; // æ€»å’Œ
        int curMax = 0, maxSum = nums[0]; // å½“å‰å­æ•°ç»„å’Œ æœ€å¤§å’Œ
        int curMin = 0, minSum = nums[0];
        
        for(int num : nums){
            sum += num;

            // 1. å½“å‰æœ€å¤§å’Œ
            curMax = Math.max(curMax + num, num); // ä¹‹å‰çš„å­æ•°ç»„ ä»¥å½“å‰å¼€å§‹çš„å­æ•°ç»„
            maxSum = Math.max(curMax, maxSum);

            // å½“å‰æœ€å°å’Œ
            curMin = Math.min(curMin + num, num);
            minSum = Math.min(curMin, minSum);
        }

        // å…¨è´Ÿæ•°
        if(maxSum < 0) return maxSum;

        return Math.max(maxSum, sum - minSum);
    }
}
```

#### å¤æ‚åº¦åˆ†æ
æ—¶é—´å¤æ‚åº¦ï¼šO(n)

ç©ºé—´å¤æ‚åº¦ï¼šO(1)

----

# [æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°](æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°"[é¢˜ç›®åœ°å€](https://leetcode.cn/problems/valid-perfect-square/)")

## é¢˜ç›®æè¿°
ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•° num ã€‚å¦‚æœ num æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼Œåˆ™è¿”å› true ï¼Œå¦åˆ™è¿”å› false ã€‚

å®Œå…¨å¹³æ–¹æ•° æ˜¯ä¸€ä¸ªå¯ä»¥å†™æˆæŸä¸ªæ•´æ•°çš„å¹³æ–¹çš„æ•´æ•°ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒå¯ä»¥å†™æˆæŸä¸ªæ•´æ•°å’Œè‡ªèº«çš„ä¹˜ç§¯ã€‚

ä¸èƒ½ä½¿ç”¨ä»»ä½•å†…ç½®çš„åº“å‡½æ•°ï¼Œå¦‚  sqrt ã€‚

### æ€è·¯ï¼šäºŒåˆ†æŸ¥æ‰¾


```java
class Solution {
    public boolean isPerfectSquare(int num) {
        long left = 1, right = num;
        while(left <= right){
            long mid = left + ((right - left) >> 1);
            long square = mid * mid;
            if(square < num){
                left = mid+ 1;
            }else if(square > num){
                right = mid - 1;
            }else{
                return true;
            }
        }
        return false;
    }
}
```

#### å¤æ‚åº¦åˆ†æ
æ—¶é—´å¤æ‚åº¦ï¼šO(log n)

ç©ºé—´å¤æ‚åº¦ï¼šO(1)

----

# [å­—ç¬¦ä¸²è§£ç ](å­—ç¬¦ä¸²è§£ç "[é¢˜ç›®åœ°å€](https://leetcode.cn/problems/decode-string/)")

## é¢˜ç›®æè¿°
ç»™å®šä¸€ä¸ªç»è¿‡ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œè¿”å›å®ƒè§£ç åçš„å­—ç¬¦ä¸²ã€‚

ç¼–ç è§„åˆ™ä¸º: k[encoded_string]ï¼Œè¡¨ç¤ºå…¶ä¸­æ–¹æ‹¬å·å†…éƒ¨çš„ encoded_string æ­£å¥½é‡å¤ k æ¬¡ã€‚æ³¨æ„ k ä¿è¯ä¸ºæ­£æ•´æ•°ã€‚

ä½ å¯ä»¥è®¤ä¸ºè¾“å…¥å­—ç¬¦ä¸²æ€»æ˜¯æœ‰æ•ˆçš„ï¼›è¾“å…¥å­—ç¬¦ä¸²ä¸­æ²¡æœ‰é¢å¤–çš„ç©ºæ ¼ï¼Œä¸”è¾“å…¥çš„æ–¹æ‹¬å·æ€»æ˜¯ç¬¦åˆæ ¼å¼è¦æ±‚çš„ã€‚

æ­¤å¤–ï¼Œä½ å¯ä»¥è®¤ä¸ºåŸå§‹æ•°æ®ä¸åŒ…å«æ•°å­—ï¼Œæ‰€æœ‰çš„æ•°å­—åªè¡¨ç¤ºé‡å¤çš„æ¬¡æ•° k ï¼Œä¾‹å¦‚ä¸ä¼šå‡ºç°åƒ 3a æˆ– 2[4] çš„è¾“å…¥ã€‚

æµ‹è¯•ç”¨ä¾‹ä¿è¯è¾“å‡ºçš„é•¿åº¦ä¸ä¼šè¶…è¿‡ 105ã€‚

### æ€è·¯ï¼šæ ˆğŸŒŸ

- ä½¿ç”¨ä¸¤ä¸ªæ ˆï¼Œæ•°å­—æ ˆå’Œå­—ç¬¦ä¸²æ ˆ
  - æ•°å­—æ ˆï¼šæ•°å­—å…¥æ ˆ
  - å­—ç¬¦ä¸²æ ˆï¼šå­—ç¬¦ä¸²å…¥æ ˆ

```java
class Solution {
    public String decodeString(String s) {
        // ä½¿ç”¨æ ˆâ€”â€”æ•°å­—æ ˆå’Œå­—ç¬¦ä¸²æ ˆ
        Deque<StringBuilder> strStack = new ArrayDeque<>();
        Deque<Integer> numStack = new ArrayDeque<>();

        StringBuilder res = new StringBuilder();
        int k = 0;

        for(char c : s.toCharArray()){
            if(Character.isDigit(c)){
                k = k * 10 + (c - '0');
            }else if(c == '['){
                // æ–°çš„ä¸€å±‚ å°†æ•°å­—å’Œå­—ç¬¦æ”¾å…¥åˆ°æ ˆä¸­
                numStack.push(k);
                strStack.push(res);

                k = 0;
                res = new StringBuilder();
            }else if(c == ']'){
                int num = numStack.pop();
                StringBuilder prev = strStack.pop();

                for(int i = 0; i < num; i++){
                    prev.append(res);
                }

                res = prev;
            }else{
                // æ­£å¸¸çš„å­—ç¬¦â€”â€”å­—æ¯
                res.append(c);
            }
            
        }

        return res.toString();
    }
}
```

#### å¤æ‚åº¦åˆ†æ
æ—¶é—´å¤æ‚åº¦ï¼šO(n)

ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œç”¨åˆ°äº†ä¸¤ä¸ªæ ˆ

### æ€»ç»“

